{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} - Your tours{% endblock %}

{% block body %}
    <h1>Tours</h1>

    <a href="{{ path('tour_new') }}"
       class="btn btn-edit">
        New Tour
    </a>

    <a href="{{ path('permission_new') }}"
       class="btn btn-info">
        New Contributor
    </a>

    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Artist</th>
                <th>Permission</th>
                <th colspan="2">Options</th>
            </tr>
        </thead>
        <tbody>
        {% for t in tours %}
                <tr>
                    <td><a href="{{ path('tour_show', {"id" : t.id}) }}">{{ t.tour.name }}</a></td>
                    <td><a href="{{ path('artist_show', {"id" : t.tour.artist.id}) }}">{{ t.tour.artist.name }}</a></td>
                    <td>{{ t.permission }}</td>
                    {% if t.permission == "administrator" %}
                    <td>
                        <a class="btn btn-white btn-link btn-sm" href="{{ path('tour_edit', {"id" : t.id}) }}">
                            <i class="material-icons">edit</i>
                        </a>
                        <a class="btn btn-white btn-link btn-sm" href="{{ path('tour_delete', {"id" : t.id}) }}">
                            <i class="material-icons">close</i>
                        </a>
                    </td>
                    {% endif %}
                </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
